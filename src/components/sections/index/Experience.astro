---
interface Job {
  title: string;
  company: string;
  date: string;
  location: string;
  details: string[];
  tech: string[];
}

const jobs: Job[] = [
  {
    title: "Development Specialist",
    company: "KPIT Technologies",
    date: "Jul 2025 - Jan 2026",
    location: "Pune, India",
    details: [
      "Architected proprietary protocol packet crafting library enabling automated test script development",
      "Engineered 200+ automated test scripts for multi-protocol validation (GARP, ARP, SOME/IP, TCP/UDP)",
      "Developed CI/CD integrated test automation reducing HIL bench setup time by 80%",
    ],
    tech: ["Python", "Jenkins", "Docker", "SOME/IP"],
  },
  {
    title: "Sr. Software Engineer",
    company: "KPIT Technologies",
    date: "Jul 2023 - Jun 2025",
    location: "Pune, India",
    details: [
      "Pioneered Python-based testing framework utilizing Pytest, enhancing test coverage by 18%",
      "Developed 80+ automated test cases leveraging Scapy for custom packet crafting",
      "Designed vSomeIP simulation platform decreasing bug reports by 25%",
    ],
    tech: ["Python", "Pytest", "Scapy", "Docker Compose"],
  },
  {
    title: "Frontend Developer Intern",
    company: "CleverTap",
    date: "Jan 2022 - Jul 2022",
    location: "Mumbai, India",
    details: [
      "Developed Vue.js dashboard components for real-time analytics serving 200+ internal users",
      "Debugged and resolved 7+ critical UI bugs improving data visualization accuracy",
      "Implemented responsive design resolving top 3 rendering issues across platforms",
    ],
    tech: ["Vue.js", "REST APIs", "CSS", "Figma"],
  },
  {
    title: "Frontend Development Intern",
    company: "Folioset",
    date: "Mar 2021 - Aug 2021",
    location: "Remote",
    details: [
      "Built professional portfolio platform using React.js achieving 50+ active users",
      "Developed video-based evaluation system with TypeScript type-safety",
      "Improved application stability by 40% through systematic debugging",
    ],
    tech: ["React.js", "TypeScript", "Material Design"],
  },
];
---

<section class="experience" id="experience">
  <div class="experience__container">
    <header class="experience__header">
      <span class="experience__tag" data-reveal>02</span>
      <h2 class="experience__title" data-reveal>Experience</h2>
    </header>

    <div class="experience__timeline">
      {
        jobs.map((job) => (
          <article class="experience__item" data-reveal>
            <div class="experience__marker" />
            <div class="experience__content">
              <header class="experience__job-header">
                <h3 class="experience__job-title">{job.title}</h3>
                <span class="experience__company">{job.company}</span>
              </header>
              <div class="experience__meta">
                <span class="experience__date">{job.date}</span>
                <span class="experience__location">{job.location}</span>
              </div>
              <ul class="experience__details">
                {job.details.map((detail) => (
                  <li>{detail}</li>
                ))}
              </ul>
              <div class="experience__tech">
                {job.tech.map((t) => (
                  <span>{t}</span>
                ))}
              </div>
            </div>
          </article>
        ))
      }
    </div>
  </div>
</section>

<style lang="scss">
  .experience {
    padding: var(--space-5xl) 0;

    &__container {
      width: 100%;
      max-width: var(--container-max);
      margin: 0 auto;
      padding: 0 var(--container-padding);
    }

    &__header {
      margin-bottom: var(--space-4xl);
    }

    &__tag {
      display: inline-block;
      font-family: var(--font-mono);
      font-size: var(--text-sm);
      color: var(--color-accent);
      margin-bottom: var(--space-md);
    }

    &__title {
      font-size: var(--text-4xl);
      font-weight: 700;
      letter-spacing: -0.02em;
    }

    &__timeline {
      position: relative;
      padding-left: var(--space-2xl);

      &::before {
        content: "";
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        width: 1px;
        background: linear-gradient(
          to bottom,
          var(--color-accent),
          var(--color-purple),
          var(--color-border)
        );
      }
    }

    &__item {
      position: relative;
      padding-bottom: var(--space-3xl);

      &:last-child {
        padding-bottom: 0;
      }

      &:hover {
        .experience__marker {
          background: var(--color-accent);
          box-shadow: 0 0 20px var(--color-accent-accent);
        }

        .experience__content {
          border-color: var(--color-border-hover);
          transform: translateX(10px);
        }
      }
    }

    &__marker {
      position: absolute;
      left: calc(-1 * var(--space-2xl) - 5px);
      top: 8px;
      width: 11px;
      height: 11px;
      background: var(--color-primary);
      border: 2px solid var(--color-accent);
      border-radius: 50%;
      transition: all var(--duration-normal) ease;
    }

    &__content {
      background: var(--color-surface);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-lg);
      padding: var(--space-xl);
      transition: all var(--duration-normal) var(--ease-out-quart);
    }

    &__job-header {
      margin-bottom: var(--space-md);
    }

    &__job-title {
      font-size: var(--text-xl);
      font-weight: 600;
      margin-bottom: var(--space-xs);
    }

    &__company {
      color: var(--color-accent-light);
      font-weight: 500;
    }

    &__meta {
      display: flex;
      gap: var(--space-lg);
      margin-bottom: var(--space-lg);
      font-size: var(--text-sm);
      color: var(--color-text-muted);
    }

    &__details {
      margin-bottom: var(--space-lg);

      li {
        position: relative;
        padding-left: var(--space-lg);
        margin-bottom: var(--space-sm);
        color: var(--color-text-secondary);
        font-size: var(--text-sm);

        &::before {
          content: "";
          position: absolute;
          left: 0;
          top: 8px;
          width: 6px;
          height: 6px;
          background: var(--color-accent);
          border-radius: 50%;
        }
      }
    }

    &__tech {
      display: flex;
      flex-wrap: wrap;
      gap: var(--space-sm);

      span {
        padding: var(--space-xs) var(--space-sm);
        background: rgba(99, 102, 241, 0.1);
        border: 1px solid rgba(99, 102, 241, 0.2);
        border-radius: var(--radius-sm);
        font-size: var(--text-xs);
        font-family: var(--font-mono);
        color: var(--color-accent-light);
      }
    }
  }
</style>
